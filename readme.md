### Критерії прийому

- Завдання виконано на гілці hw4-validation
- При здачі домашньої роботи є посилання на вихідні файли на Github та посилання на задеплоєний проєкт цієї ДЗ (гілка hw4-validation) на render.com
- При виконані коду завдання немає помилок
- При виконанні завдання дотримано файлової структури застосунку, що вказана в матеріалах курсу

# Покрокове виконання завдання

## Крок 1

Створіть гілку hw4-validation з гілки hw3-crud і виконуйте це завдання в гілці hw4-validation.

## Крок 2

Покращіть обробку вхідних даних (валідацію) у вашому додатку. Для цього:

1. Створіть функцію validateBody, яка буде приймати аргументом схему валідації, а повертати буде middleware для валідації body запиту.
2. Додайте валідацію до роутів POST /contacts та PATCH /contacts/:contactId. Побудуйте схеми валідації, базуючись на тому, як ви описали властивості моделі MongoDB. Окрім цього, для полів типу string додайте правила мінімальної довжини - 3 символи, та максимальної довжини - 20 символів.
3. Додайте middleware isValidId для перевірки валідності id і застосуйте його в усіх роутах, які працюють з id.

## Крок 3

Додайте пагінацію до маршруту GET /contacts. Для цього використовуйте такі query параметри запиту:

- page - номер сторінки запиту (за замовчуванням 1)
- perPage - кількість елементів на сторінці (за замовчуванням 10)

Відповідь сервера у властивості data має містити такі властивості:

- data - містить масив контактів з поточної сторінки
- page - вказує на номер поточної сторінки
- perPage - визначає кількість елементів на сторінці
- totalItems - вказує на загальну кількість елементів в колекції
- totalPages - визначає загальну кількість сторінок
- hasPreviousPage - відображає чи є попередня сторінка
- hasNextPage - відображає чи є наступна сторінка

Відповідь сервера має бути наступного формату:

```javascript
{
  "status": 200,
  "message": "Successfully found contacts!",
  "data": {
    "data": [/* contacts */],
    "page": 2,
    "perPage": 4,
    "totalItems": 6,
    "totalPages": 2,
    "hasPreviousPage": true,
    "hasNextPage": false
  }
}
```

## Крок 4

Додайте можливість задати порядок сортування елементів за іменем контакту в відповіді для маршруту GET /contacts. Для цього використовуйте такі query параметри запиту:

- sortBy - визначає, за якою властивістю потрібно робити сортування
- sortOrder - визначає порядок сортування (asc - висхідний порядок сортування (значення за замовчуванням) або desc - низхідний порядок сортування)

## Крок 5 (не обов’язковий)

За бажанням додайте можливість фільтрації контактів за типом, властивістю isFavourite у відповіді для маршруту GET /contacts. Для цього використовуйте такі query параметри запиту:

- type - відображає тип контакту, значення властивості contactType
- isFavourite - відображає чи є контакт обраним

## Крок 6

Поміняйте гілку, з якої зараз деплоїться ваш проєкт на [render.com](https://render.com/), на hw4-validation. Переконайтеся, що зміни успішно задеплоєні

> !Дуже важливо перед здачею дз на перевірку ментору перевіряти роботу вашого задеплоєного додатка на render.com. Якщо, наприклад, при деплої ви забули додати змінні оточення (env), то задеплоєний бекенд не буде працювати. Також перевірте, що всі створені вами маршрути бекенду працюють як очікується згідно з завданням.
